# 내적
```
u(a, b), v(c, d)  
u⋅v = a*c + b*d  
```
벡터로 스칼라를 만들어내는 연산  

교환법칙, 분배법칙은 성립.  
결과가 스칼라값이기 때문에 결합법칙은 성립X  

```
u⋅u = a *a + b*b = u의 크기
```

## 내적과 cos
또한 내적은 u와 v의 사잇각이 Θ일 때 cosΘ로 표현이 가능하다.  
![KakaoTalk_20240228_012550309](https://github.com/yooonmyong/SK_Study/assets/40621689/e5f74619-c43f-4319-982d-43c4ce8c92ea)  
즉 내적도 0이 되는 순간이 있다. (cosΘ = 0, Θ = 90, 270일 때)  

## 내적과 행렬곱
```
[a b * [e f  = [ ae+bg  af+bh = [(a, b)⋅(e, g)  (a, b)⋅(f, h)
c d]    g h]      ce+dg  cf+dh]    (c, d)⋅(e, g)  (c, d)⋅(f, h)]
```
내적에 벡터의 크기가 나오기 때문에, 직교행렬을 활용해 더 간단화해볼 수 있다.  

#### 직교행렬
행렬을 이루는 모든 벡터의 크기가 1, 벡터간의 사잇각이 모두 90도인 행렬  
직교행렬의 역행렬은 직교행렬의 전치행렬이라는 특징이 있다  
직교행렬과 직교행렬의 전치행렬을 내적하면 항등행렬이 나오기 때문  
```
[a c   [a b = [(a, c)⋅(a, c)  (a, c)⋅(b, d)   = [1, 0
 b d]  c d]	   (b, d)⋅(a, c)  (b, d)⋅(b, d)]	 0, 1]
```

## 내적을 활용한 시야판별
* 내적의 부호를 활용한 앞뒤판별
부호는 cosΘ로 판별가능하다.  
cosΘ는 -90도 ~ 90도에서 양수이고, 나머지 각도에서 음수이다.  
![제목 없음](https://github.com/yooonmyong/SK_Study/assets/40621689/a4a4eb45-eae1-4582-8eae-9fd4e829a9d6)  
플레이어를 원점, 플레이어의 시야를 벡터u, 플레이어-목표물 사이 벡터를 v라고 했을 때,  
u와 v가 이루는 각도가 -90~90도 => 목표물이 플레이어의 앞에 있다  
그외 => 플레이어의 뒤에 있다

* 내적 값을 활용한 시야 판별
플레이어의 시야 범위를 각도 b라고 했을 때,  
![제목 없음](https://github.com/yooonmyong/SK_Study/assets/40621689/d024b7d5-02be-4960-8b74-4defd4b640ea)  
0~180도 (빨간 일직선) 사이에선 Θ와 cosΘ가 반비례 관계이다. (각도가 크면 cos값이 작음)  

1. cos(b/2)를 계산한다.
2. 플레이어의 시야벡터 u, 플레이어-목표물 사이 벡터 v를 정규화한다.
3. cos(a)를 계산한 후 cos(b/2)와 비교했을 때  
3-1. cos(b/2)와 같거나 큼 -> 목표물이 시야 범위 안에 있음  
3-2. 작음 -> 시야 밖에 있음  
